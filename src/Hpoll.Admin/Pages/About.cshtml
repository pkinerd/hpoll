@page
@model Hpoll.Admin.Pages.AboutModel
@{
    ViewData["Title"] = "About";
}

<h1>About hpoll</h1>

<div class="cards">
    <div class="card">
        <h3>Customers</h3>
        <div class="value">@Model.CustomerCount</div>
    </div>
    <div class="card">
        <h3>Hubs</h3>
        <div class="value">@Model.HubCount</div>
    </div>
    <div class="card">
        <h3>Devices</h3>
        <div class="value">@Model.DeviceCount</div>
    </div>
</div>

<h2>Build Information</h2>
<div class="card">
    <dl>
        <dt>Version</dt><dd>@Model.Version</dd>
        <dt>Runtime</dt><dd>@Model.Runtime</dd>
        <dt>Environment</dt><dd>@Model.Environment</dd>
        <dt>Data Path</dt><dd>@Model.DatabasePath</dd>
    </dl>
</div>

<h2>Polling Configuration</h2>
<div class="card">
    <dl>
        <dt>Polling Interval</dt><dd>@Model.PollingIntervalMinutes min</dd>
        <dt>Battery Poll Interval</dt><dd>@Model.BatteryPollIntervalHours h</dd>
        <dt>Data Retention</dt><dd>@Model.DataRetentionHours h</dd>
        <dt>HTTP Timeout</dt><dd>@Model.HttpTimeoutSeconds s</dd>
        <dt>Token Refresh Check</dt><dd>Every @Model.TokenRefreshCheckHours h</dd>
        <dt>Token Refresh Threshold</dt><dd>@Model.TokenRefreshThresholdHours h before expiry</dd>
        <dt>Health Failure Threshold</dt><dd>@Model.HealthFailureThreshold consecutive failures</dd>
        <dt>Health Max Silence</dt><dd>@Model.HealthMaxSilenceHours h</dd>
    </dl>
</div>

<h2>Email Configuration</h2>
<div class="card">
    <dl>
        <dt>Send Times (UTC)</dt><dd>@(Model.EmailSendTimes.Any() ? string.Join(", ", Model.EmailSendTimes) : "Not configured")</dd>
        <dt>Summary Window</dt><dd>@Model.SummaryWindowCount x @Model.SummaryWindowHours h (@(Model.SummaryWindowCount * Model.SummaryWindowHours) h total)</dd>
        <dt>Battery Alert Threshold</dt><dd>@Model.BatteryAlertThreshold%</dd>
    </dl>
</div>

<h2>Hue API</h2>
<div class="card">
    <dl>
        <dt>App Configured</dt><dd>@(Model.HueAppConfigured ? "Yes" : "No")</dd>
        @if (!string.IsNullOrEmpty(Model.HueCallbackUrl))
        {
            <dt>Callback URL</dt><dd>@Model.HueCallbackUrl</dd>
        }
    </dl>
</div>
